面试题[04](https://leetcode-cn.com/problems/er-wei-shu-zu-zhong-de-cha-zhao-lcof/)

有问题，在调一调。

```java
class Solution {
    int target;
    public boolean findNumberIn2DArray(int[][] matrix, int target) {
        this.target = target;
        return helper(matrix,0,matrix.length,0,matrix[0].length);

    }

    public boolean helper(int[][] matrix,int top,int down,int left,int rigth){
        if(top == down-1 && left == rigth-1){
            return target == matrix[top][left];
        }
        int mid_row = top+(down-top)/2;
        int mid_col = left+(rigth-left)/2;
        int tmp = matrix[mid_row][mid_col] ;
        if(tmp == target){
            return true; 
        }else if( target > tmp){
            return helper(matrix,top,mid_row+1,mid_col+1,rigth) ||
                helper(matrix,mid_row+1,down,mid_col+1,rigth) ||
                helper(matrix,mid_row+1,down,left,mid_col+1);
        }else{
             return helper(matrix,top,mid_row+1,mid_col+1,rigth) ||
                helper(matrix,top,mid_row+1,left,mid_col+1) ||
                helper(matrix,mid_row+1,down,left,mid_col+1);
        }
    }
}
```

解法一:

从右上角开始,以`target=20`为例：

* 向下搜索：若是最后一个数字小于target那么整行都是小于target的，排除整行，直到找到某行最后一个数字大于target

  ~~[1,   4,  7, 11, 15],~~
  ~~[2,   5,  8, 12, 19],~~
  [3,   6,  9, 16, 22],
  [10, 13, 14, 17, 24],
  [18, 21, 23, 26, 30]

* 向右搜索：若是某`matrix[i][j]`大于target那么，和其同一列的都可以被排除

  ~~[1,   4,  7, 11, 15],~~
  ~~[2,   5,  8, 12, 19],~~
  [3,   6,  9, 16, ~~22~~],
  [10, 13, 14, 17, ~~24~~],
  [18, 21, 23, 26, ~~30~~]

进行一轮操作后，整个问题还是保持原来的结构。

```java
class Solution {
    public boolean findNumberIn2DArray(int[][] matrix, int target) {
        if(matrix.length == 0) return false;
        int row=0, col=matrix[0].length-1;
        while(row<matrix.length && col>-1 ){
            while(row<matrix.length){
                if(matrix[row][col] == target){
                    return true;
                }else if(matrix[row][col]>target){
                    break;
                }else{
                    row++;
                }
            }

            while(row<matrix.length && col>-1){
                if(matrix[row][col] == target){
                    return true;
                }else if(matrix[row][col] > target){
                     col--;
                }else{
                   break;
                }
            }
        }
        return false;
    }
}
```

解法二

也可以从左下角开始查找

```java
class Solution {
    public boolean findNumberIn2DArray(int[][] matrix, int target) {
        if(matrix.length == 0) return false;
        int row=matrix.length-1,col=0;
        while(row>-1 && col<matrix[0].length){
            while(row > -1){
                if(matrix[row][col] == target){
                    return true;
                }else if(matrix[row][col] > target){
                    row--;
                }else{
                    break;
                }
            }
            while(row > -1 && col < matrix[0].length){
                if(target == matrix[row][col]){
                    return true;
                }else if(matrix[row][col] < target){
                    col++;
                }else{
                    break;
                }
            }
        }
        return false;
    }
}
```

优化

```java
class Solution {
    public boolean findNumberIn2DArray(int[][] matrix, int target) {
        if(matrix.length == 0) return false;
        int row=matrix.length-1,col=0;
        while(row>-1 && col<matrix[0].length){
            if(matrix[row][col] == target){
                return true;
            }else if(matrix[row][col] > target){
                 row--;
            }else{
                col++;
            }
        }
        return false;
    }
}
```



